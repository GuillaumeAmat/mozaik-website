toggle-width        = 25px
toggle-height       = toggle-width * 0.8
toggle-line         = 3px
transition-duration = 0.4s

#mobile-nav
  font-weight 600
  position fixed
  z-index 2000
  top header-height
  width mobile-nav-width
  left @width * -1
  height 100%
  background-color #13aae3
  color            #fff
  transition transition-duration
  .mobile-nav-on &
    transform translateX(100%)

#mobile-nav-inner
  overflow-y: auto
  padding: 10px 0
  position: absolute
  top: 0
  bottom: lang-select-height
  left: 0
  right: 0
  -webkit-overflow-scrolling: touch

#mobile-nav-toggle
  z-index 3000
  position: fixed
  top  15px
  left 15px
  width  toggle-width
  height toggle-height
  margin: auto
  opacity: 1
  cursor: pointer
  transition: 0.2s
  display: block
  &:active, .mobile-nav-on &
    opacity: 1
  @media mq-normal
    display: none

.mobile-nav-toggle-bar
  background: #fff
  position: absolute
  left: 0
  width: 100%
  height: toggle-line
  transition: transition-duration
  transform-origin: 0
  border-radius: toggle-line
  &:first-child
    top: 0
    .mobile-nav-on &
      transform: rotate(45deg)
  &:nth-child(2)
    top: (toggle-height - toggle-line) * 0.5
    .mobile-nav-on &
      opacity: 0
  &:last-child
    top: toggle-height - toggle-line
    .mobile-nav-on &
      transform: rotate(-45deg)

#mobile-search-btn
  display none
  position: absolute
  top: 0
  bottom: 0
  right: gutter-width
  margin: auto
  width: toggle-width
  height: @width
  transition: 0.2s
  opacity: 0.5
  &:before, &:after
    content: ""
    position: absolute
  &:before
    width: 18px
    height: @width
    border-radius: 50%
    border: toggle-line solid #fff
    top: 0
    left: 0
  &:after
    width: 9px
    height: toggle-line
    background: #fff
    top: 15px
    right: 0
    border-radius: toggle-line
    transform: rotate(45deg)
    transform-origin: 0
  &:active
    opacity: 1
  @media mq-normal
    display: none

.mobile-nav-link
  color: #fff
  text-decoration: none
  display: block
  padding: 10px 15px
  line-height: 1
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis

.mobile-nav-title
  color: color-link
  font-weight: bold
  padding: 10px 15px
  line-height: 1
  display: block
  border-top: 1px solid #444
  margin-top: 10px
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis

#container
  transition: transition-duration
  height: 100%
  overflow: auto
  -webkit-overflow-scrolling: touch
  .mobile-nav-on &
    transform: translateX(mobile-nav-width)
    overflow: hidden

#mobile-nav-dimmer
  position: absolute
  top: 0
  left: 100%
  width: 100%
  height: 100%
  background: #000
  opacity: 0
  transition: opacity transition-duration, transform 0s transition-duration
  .mobile-nav-on &
    opacity: 0.7
    transform: translateX(-100%)
    transition: opacity transition-duration
